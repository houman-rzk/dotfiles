#!/bin/sh

file="$(readlink -f "$1")"
dir="${file%/*}"
filename="$(echo "$file" | rev | cut -d '/' -f 1 | rev)"
filenameNoExt="${filename%.*}"
ext="${file##*.}"

case "$ext" in
    java) java -cp "$dir" "$filenameNoExt" ;;
    lisp) clisp "$filename" ;;
    tex) setsid -f xdg-open "$filenameNoExt.pdf" ;;
    *) "$dir/$filename" ;;
esac
