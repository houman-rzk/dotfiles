#!/bin/sh

# A dmenu wrapper script for system functions.
case "$(readlink -f /sbin/init)" in
	*systemd*) ctl='systemctl' ;;
	*) ctl='loginctl' ;;
esac

case "$(printf "ðŸ”’ lock\nðŸšª logout\nðŸ”ƒ reboot\nâ›” shutdown\nðŸ’¤ sleep" |dmenu -i -n -p 'Action: ')" in
	'ðŸ”’ lock') mpc pause >/dev/null 2>&1 ; slock ; music-control notify ;;
	'ðŸšª logout') kill -9 -1 ;;
	'ðŸ’¤ sleep') mpc pause >/dev/null 2>&1 ; slock $ctl suspend -i ; music-control notify ; rfkill unblock wifi ;;
	'ðŸ”ƒ reboot') sudo reboot ;;
	'â›” shutdown') sudo shutdown -P now ;;
	*) exit 1 ;;
esac
